<!doctype html><html><head><link rel=stylesheet href=https://devlog.hexops.com/assets/font/stylesheet.css><link rel=stylesheet href=https://devlog.hexops.com/main.959becff4f3640c2ba19521949a93832fa147f951930301c1c72e74e25823239.css><script async defer data-domain=hexops.com src=https://hexops.com/opendata.js></script><meta charset=utf-8><title>Mach v0.2 released - Zig game engine & graphics toolkit | Hexops' devlog</title><link rel=canonical href=https://devlog.hexops.com/2023/mach-v0.2-released/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Mach v0.2 released - Zig game engine & graphics toolkit"><meta property="og:description" content="After about a year and a half of work, Mach v0.2 has just been released. Mach aims to be a Zig game engine & graphics toolkit for building high-performance, truly cross-platform, robust & modular games, visualizations, and desktop/mobile GUI apps."><meta property="og:type" content="article"><meta property="og:url" content="https://devlog.hexops.com/2023/mach-v0.2-released/"><meta property="og:image" content="https://github.com/hexops/mach/assets/3173176/54743b27-79da-498c-a7de-57da30f77f5a"><meta property="article:section" content="2023"><meta property="article:published_time" content="2023-08-12T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-12T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://github.com/hexops/mach/assets/3173176/54743b27-79da-498c-a7de-57da30f77f5a"><meta name=twitter:title content="Mach v0.2 released - Zig game engine & graphics toolkit"><meta name=twitter:description content="After about a year and a half of work, Mach v0.2 has just been released. Mach aims to be a Zig game engine & graphics toolkit for building high-performance, truly cross-platform, robust & modular games, visualizations, and desktop/mobile GUI apps."></head><body><div class=navbar><div class=content><a href=/ class=logo><img src=https://raw.githubusercontent.com/hexops/media/234e15f265b19743c580a078b2d68660c92675d4/logo.svg>' devlog</a><div><a href=https://hexops.com/about class=item>About</a>
<a href=/archives class=item>Archives</a>
<a href=https://github.com/hexops class=item>GitHub</a></div></div></div><div id=content><main aria-role=main class=main-single><div class=single><header class=header><h1>Mach v0.2 released - Zig game engine & graphics toolkit</h1><div class=metadata><time>August 12, 2023</time>
• <a class=category href=/categories/mach>mach</a>
• <a class=category href=/categories/zig>zig</a>
• <a class=category href=/categories/gamedev>gamedev</a></div></header><p>Mach is a Zig game engine & graphics toolkit for building high-performance, truly cross-platform, robust & modular games, visualizations, and desktop/mobile GUI apps. <a href=https://machengine.org/>Learn more</a></p><p>We&rsquo;ve been developing Mach for ~2 years; this release includes over a year of work, thousands of commits, and fixes <a href="https://github.com/hexops/mach/milestone/2?closed=1">300 issues</a>.</p><video height=800px autoplay loop muted>
<source src=https://media.machengine.org/core/example/deferred-rendering.mp4 type=video/mp4></video><h2 id=on-your-machine-in-just-60-seconds>On your machine in just ~60 seconds</h2><p>With <a href=https://machengine.org/about/zig-version/>this Zig nightly</a> version you can run the above demo on your machine in ~60 seconds:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>git clone https://github.com/hexops/mach-core
<span class=nb>cd</span> mach-core/
zig build run-deferred-rendering
</code></pre></div><p><a href=https://machengine.org/about/goals/#zero-fuss-installation>Zero system dependencies</a> to slow you down; only <a href=https://machengine.org/about/zig-version/>zig</a> is needed, we build and package the few relevant dependencies on our own. <small><a href=https://machengine.org/about/known-issues/>known issues</a></small></p><h2 id=engine-and-core-split>Engine and Core split</h2><p>We completely split <em>Mach engine</em> and <em>Mach core</em> apart, so that you get to choose your journey and decide if you just want low-level window+input+GPU and nothing else, or prefer to use our higher level engine (which although not ready for use yet, will be very modular itself):</p><p align=center><img class=color-auto src=https://user-images.githubusercontent.com/3173176/184719710-ebae4fbd-af14-4b2f-80ad-11527c5f3e8f.png></p><h2 id=mach-core>Mach core</h2><picture><source media="(prefers-color-scheme: dark)" srcset=https://machengine.org/assets/mach/core-full-dark.svg><img alt=mach-core src=https://machengine.org/assets/mach/core-full-light.svg style=height:7rem;margin-top:1rem></picture><p>Mach core aims to be a <em>truly cross-platform</em> way to get <em>window+input+GPU, and nothing else.</em> It supports Linux, Windows, and Mac today, with WebAssembly / browser support in active development, and mobile coming in the future.</p><p>It gives you the power of Vulkan, DirectX, Metal, and modern OpenGL in a <em>single concise graphics API and shader language</em> - by compiling Google Chrome&rsquo;s WebGPU implementation natively using Zig&rsquo;s build system.</p><p>Seamless multi-threading capabilities are provided, which means that your rendering and input handling are trivially decoupled from one another, you get butter-smooth window resizing, and your render loop and input handling can run at difference frequencies. For example, a 60FPS render loop while your application handles keyboard & mouse events at a much faster dynamic rate (as fast as the OS can deliver them.)</p><div style=align-self:center><video autoplay loop muted height=190px>
<source src=https://media.machengine.org/core/example/gen-texture-light.mp4 type=video/mp4></video>
<video autoplay loop muted height=190px>
<source src=https://media.machengine.org/core/example/boids.mp4 type=video/mp4></video>
<video autoplay loop muted height=190px>
<source src=https://media.machengine.org/core/example/textured-cube.mp4 type=video/mp4></video></div><p>You can think of Mach core as an alternative to the classic options of SDL, GLFW+OpenGL, etc.</p><p>There are <a href=https://machengine.org/core/examples/>15+ examples in the showcase</a>, and we&rsquo;re <a href=https://github.com/hexops/mach/issues/858>planning a C API</a> so it can be used from other languages as well.</p><h2 id=engine-development-has-begun>Engine development has begun</h2><p><strong>Mach engine is not ready for use yet, but we&rsquo;ve started breaking ground on higher-level engine APIs.</strong></p><p>The v0.2 release focuses on deep changes and improvements to our infrastructure, primarily building out the Zig gamedev ecosystem and building foundational packages that we needed for Mach core, the engine, and a game we&rsquo;re starting to build.</p><p>As a result, we&rsquo;ve <em>finally</em> just broken ground on the engine side of things.</p><img src=/img/2023/mach-where-we-are.png><h2 id=breaking-up-our-monorepo>Breaking up our monorepo</h2><p>Previously, all of Mach&rsquo;s <a href=https://machengine.org/pkg/>standalone packages</a> were developed in a single giant monorepo. This was both intimidating for new contributors, and we wanted to better communicate how many standalone Zig gamedev packages we actually provide.</p><p>Today, we&rsquo;re happy to report all standalone packages are now developed in separate repositories and available via the package manager!</p><h2 id=zig-package-manager>Zig package manager</h2><p>We migrated 100% to the self-hosted Zig compiler and the new experimental Zig package manager, every Git submodule has been banished!</p><p>We created <a href=https://pkg.machengine.org/>pkg.machengine.org</a> - a mirror for downloading Mach packages and Zig downloads as well.</p><h2 id=introducing-wrench-the-machanist>Introducing Wrench the Machanist</h2><img src=https://raw.githubusercontent.com/hexops/media/b71e82ae9ea20c22a2eb3ab95d8ba48684635620/mach/wrench_rocket.svg style=width:300px><p>Wrench is the Mach engine mascot (artwork contributed by <a href=https://keylajones.me>Keyla Jones</a>); and also <a href=https://wrench.machengine.org/>our infrastructure automation</a> tool, written in Go, to help us with various tasks:</p><p>Giving us an overview of our many repositories <a href=https://wrench.machengine.org/projects/>CI statuses</a> and <a href=https://wrench.machengine.org/pull-requests/>pull requests</a>:</p><p><a href=https://github.com/hexops/mach/assets/3173176/62c3e118-faa0-40c7-a663-e9e68e000bbf><img src=https://github.com/hexops/mach/assets/3173176/62c3e118-faa0-40c7-a663-e9e68e000bbf style=width:300px></a><a href=https://user-images.githubusercontent.com/3173176/210106853-3e72f102-e8a8-4154-bec3-e169922fd9af.png><img src=https://user-images.githubusercontent.com/3173176/210106853-3e72f102-e8a8-4154-bec3-e169922fd9af.png style=width:300px></a></p><p>Sending us <a href=https://github.com/hexops/mach/pull/953>pull requests</a> to automatically update our CI pipelines to the latest Zig version, and update our <a href=https://github.com/hexops/mach/pull/926><code>build.zig.zon</code></a> dependencies - in a fully atomic way across all our repositories at once:</p><p><a href=https://user-images.githubusercontent.com/3173176/210106831-afe34f1e-38fc-40ab-bee3-72374067838c.png><img src=https://user-images.githubusercontent.com/3173176/210106831-afe34f1e-38fc-40ab-bee3-72374067838c.png style=width:300px></a></p><p>&mldr;and much more:</p><ul><li>Checking our website and docs for <a href=https://github.com/hexops/mach/issues/931>broken links</a> and sending us GitHub issues.</li><li>Performing automatic updates of involved dependencies, such as updating our fork of Google Chrome&rsquo;s WebGPU implementation, which involves <a href=https://github.com/hexops/mach-gpu-dawn/pull/22>pull requests</a> across a few different repositories, pushing branches, running out-of-band commands, and ultimately presenting us with helpful/pretty diffs so we can just do the human work.</li><li>A custom CI job runner system, running on a custom mini server with actual GPUs - so we can do screenshot-based testing of graphical applications in the future.</li></ul><video height=800px controls>
<source src=https://user-images.githubusercontent.com/3173176/234467605-ed255a5f-325e-449b-934b-971c2d4b4739.mp4 type=video/mp4></video>
<video height=800px controls>
<source src=https://user-images.githubusercontent.com/3173176/210107110-3ac1df91-1192-4113-96cd-748ae581c4f9.mp4 type=video/mp4></video><h2 id=mach-gpu-rewritten-for-perfection>mach-gpu: rewritten for perfection</h2><picture><source srcset=https://raw.githubusercontent.com/hexops/media/839b04fa5a72428052733d2095726894ff93466a/gpu/logo_dark.svg media="(prefers-color-scheme: dark)"><img style=height:100px src=https://raw.githubusercontent.com/hexops/media/839b04fa5a72428052733d2095726894ff93466a/gpu/logo_light.svg></picture><p><a href=https://machengine.org/pkg/mach-gpu/>mach-gpu</a> is the WebGPU interface for Zig, and last year we <a href=../2022/perfecting-webgpu-native/>completely rewrote</a> it, achieving:</p><ul><li>Zero overhead, using comptime interfaces</li><li>100% API coverage</li><li>Default values for 100% of the API (which makes writing descriptors, and makes examples, look much simpler.)</li></ul><h2 id=audio-development>Audio development</h2><p>Contributor <a href=https://github.com/alichraghi>@alichraghi</a> has been relentless in pushing our audio capabilities (and more) forward</p><div style=align-self:center><picture><source media="(prefers-color-scheme: dark)" srcset=https://machengine.org/assets/mach/flac-full-dark.svg><img alt=mach-flac src=https://machengine.org/assets/mach/flac-full-light.svg style=width:250px></picture>
<picture><source media="(prefers-color-scheme: dark)" srcset=https://machengine.org/assets/mach/sysaudio-full-dark.svg><img alt=mach-sysaudio src=https://machengine.org/assets/mach/sysaudio-full-light.svg style=width:250px></picture>
<picture><source media="(prefers-color-scheme: dark)" srcset=https://machengine.org/assets/mach/opus-full-dark.svg><img alt=mach-opus src=https://machengine.org/assets/mach/opus-full-light.svg style=width:250px></picture></div><p><a href=https://machengine.org/pkg/mach-sysaudio/>mach-sysaudio</a> started as Zig bindings to Andrew Kelley&rsquo;s awesome <a href=https://github.com/andrewrk/libsoundio>libsoundio</a> library, and ended up being a fully-fledged new library written in Zig to achieve similar goals:</p><ul><li>Truly cross-platform, low-level, audio IO in Zig - playback and recording with backends for:<ul><li>Linux<ul><li>PulseAudio</li><li>PipeWire</li><li>Jack</li><li>ALSA</li></ul></li><li>Windows: WASAPI</li><li>macOS/iOS: CoreAudio</li><li>WebAssembly: WebAudio</li></ul></li></ul><p>Then just recently we got <a href=https://machengine.org/pkg/mach-flac/>mach-flac</a> and <a href=https://machengine.org/pkg/mach-opus/>mach-opus</a>, which combined give you FLAC (lossless audio) and Opus (lossy audio) via the respective battle-hardeneed xiph.org libraries.</p><h2 id=new-website>New website</h2><img src=https://github.com/hexops/mach/assets/3173176/6a1167bd-330c-47b4-8d8b-69e0c5cd0de2><p>We built a <a href=https://machengine.org>brand new website</a> that will serve us well into the future, featuring:</p><ul><li><a href=https://machengine.org/engine/roadmap/>Project roadmap</a></li><li>Documentation for Engine, Core, Packages, and more.</li><li>WebGPU documentation and <a href=https://machengine.org/engine/gpu/>learning material</a></li><li>Offline-viewing support (see link in the footer)</li><li>All around better design, landing page, etc.</li></ul><p><strong>Note:</strong> Mobile support isn&rsquo;t great right now, we&rsquo;ll fix it later.</p><h2 id=browser-support-in-development>Browser support: in development</h2><p>Chrome has already shipped WebGPU, and others will follow soon. Mach support for WebAssembly is not yet ready, but is coming along nicely:</p><ul><li>Input, audio, etc. is working already (<a href=https://slimsag.com/mach/piano/>piano demo</a>, click in the frame and type with your A-Z keys.)</li><li><code>mach build</code> is a new CLI command written in Zig which:<ul><li>Starts an HTTP development server</li><li>Invokes <code>zig build</code> for you when you reload the page</li><li>Generally provides a nice browser development experience</li></ul></li></ul><p>We currently do not have graphics support in the browser: we are currently doing a full rewrite of <a href=https://machengine.org/pkg/mach-sysjs/>mach-sysjs</a> to use a code generation approach to enable Zig and JavaScript to communicate across the WebAssembly boundary, while being able to pass complex types (strings, slices, etc.) instead of just pointers and integers as normal. Once this rewrite is finished, we will generate a <code>gpu.Interface</code> implementation which simply invokes the browser&rsquo;s JavaScript WebGPU API with minimal overhead.</p><h2 id=dusk-experimental-pure-zig-webgpu-implementation>Dusk: Experimental pure-Zig WebGPU implementation</h2><picture><source media="(prefers-color-scheme: dark)" srcset=https://machengine.org/assets/mach/dusk-full-dark.svg><img alt=mach-dusk src=https://machengine.org/assets/mach/dusk-full-light.svg style=height:7rem;margin-top:1rem></picture><p>Dusk is a highly experimental WebGPU implementation in Zig, aiming to be blazingly fast, lean & mean.</p><p><a href=https://github.com/alichraghi>@alichraghi</a> has been quietly working on Dusk tirelessly and consistently over the past year, and we think it may begin to be usable in Mach v0.3. Although it is not usable today, it already features:</p><ul><li>A <a href=https://github.com/hexops/mach-dusk/tree/main/src/shader>full WGSL shader parser and compiler</a>, based loosely on the Zig compiler, capable of emitting SPIRV.</li><li>A partial Vulkan implementation.</li></ul><p>Dusk is a long-term bet / investment for us, we intend to always have the option of using Dawn (the Google Chrome WebGPU implementation), and we don&rsquo;t expect Dusk will be the default very soon. Since both will implement the same <code>gpu.Interface</code>, it&rsquo;ll just be another backend you can select from at build time.</p><p>Learn more about our goals with Dusk <a href=https://machengine.org/pkg/mach-dusk/#goals>here</a>, and feel free to join the <code>#dusk</code> channel in Discord or check out the repository if you&rsquo;re interested in contributing some Vulkan, Metal, or Direct3D knowledge.</p><h2 id=model-loading>Model loading</h2><p><a href=https://machengine.org/pkg/mach-model3d/>mach-model3d</a> provides Zig bindings to <a href=https://gitlab.com/bztsrc/model3d/>Model3D</a>, a compact, featureful model format & alternative to glTF. We may replace this with our own model format in the future, but for now this enables us to load models from Blender in a decent, performant way.</p><video height=800px autoplay loop muted>
<source src=https://media.machengine.org/core/example/pbr-basic.mp4 type=video/mp4></video><h2 id=sprite--2d-examples>Sprite / 2D examples</h2><img src=https://media.machengine.org/core/example/sprite2d.jpg><p>mach-core now has a <a href=https://github.com/hexops/mach-core/tree/main/examples/sprite2d>sprite2d example</a> which is ~400 lines and demonstrates loading sprites from a JSON file and sprite atlas, basic keyboard movement, etc.</p><p>We&rsquo;ve already begun making a higher-level API for 2D graphics, as well - though not ready for use yet.</p><h2 id=community>Community</h2><ul><li>Our <a href=https://machengine.org/discord>Discord community</a> grew to over 700+ members, though we aim to keep all valuable information in GitHub issues and on the new website.</li><li>We attended <a href=https://softwareyoucan.love/>Software You Can Love</a> in Milan, Italy - gave a talk, had a table full of Zig gamedevs, and gave out some cool stickers</li><li>We saw a number of new contributors, both one-off and ongoing.</li><li>Many coffee was drank, and much coding was done over the holidays.</li></ul><div style=align-self:center><img src=https://github.com/hexops/mach/assets/3173176/43573ecf-35ce-4e34-831f-425151d5c281 style=height:190px>
<img src=https://github.com/hexops/mach/assets/3173176/ad30a37d-a37c-4950-b7b6-36411c9a51f1 style=height:190px>
<img src=https://github.com/hexops/mach/assets/3173176/9cfe64fe-ba2e-49a1-bfbe-f40b66abde2b style=height:190px></div><h2 id=a-personal-note>A personal note</h2><div style=display:flex><a href=https://github.com/slimsag><img style=width:420px src=https://machengine.org/img/slimsag-profile.png></a><div><p>I work a normal tech job, and every day after I sign off from work I go online to build Mach, almost like working two jobs. I've been working on Mach double-time like this for over two years now, and dreaming of it for a decade before that.</p><p>FOSS <a href=https://devlog.hexops.com/2021/increasing-my-contribution-to-zig-to-200-a-month#i-grew-up-playing-linux-games-like-mania-drive>is in my roots</a> and I believe we should own our tools, they should empower <em>us</em>-not be part of <a href=https://kristoff.it/blog/the-open-source-game/>the 'open source' game</a> which is all too prevelant today (even among 'open source' engines.) Mach <em>needs</em> to be for people like you and me-it needs to genuinely be <a href=https://softwareyoucan.love>software you can love</a>.</p><p>My dream is one day to live a simple, modest, future earning a living building Mach for you and creating high-quality games for everyone. Please consider <a href=https://github.com/sponsors/slimsag>sponsoring my work</a> if you believe in my vision.</p></div></div><h2 id=thanks>Thanks</h2><p>Both to everyone who has contributed and sponsored the project, as well as you for reading this far!</p><div style=display:flex;flex-direction:row;align-items:center><img align=left style=max-height:12.5rem src=https://user-images.githubusercontent.com/3173176/187348488-0b52e87d-3a48-421c-9402-be78e32b5a20.png></img><ul><li>Join the <a href=https://discord.gg/XNG3NZgCqp>Mach Discord server</a></li><li>Checkout <a href=https://machengine.org>machengine.org</a></li><li>Consider <a href=https://github.com/sponsors/slimsag>sponsoring development</a> so we can do more of it!</li></ul></div></div></main><script>function addAnchor(a){a.insertAdjacentHTML('afterbegin',`<a href="#${a.id}" class="hanchor" ariaLabel="Anchor">#</a> `)}document.addEventListener('DOMContentLoaded',function(){var a=document.querySelectorAll('h1[id], h2[id], h3[id], h4[id]');a&&a.forEach(addAnchor)})</script></div><div class=footer><div class=row-1><a href=https://hexops.com/privacy>Privacy matters</a>
<a href=https://github.com/sponsors/slimsag>Sponsor on GitHub</a>
<a href=https://machengine.org>machengine.org</a></div><div class=row-2><a href=/feed.xml><img alt="RSS feed" src="https://shields.io/badge/RSS-follow-green?logo=RSS"></a></div><div class=row-3><a href=https://hexops.com><img class="logo color-auto" alt="Hexops logo" src=https://raw.githubusercontent.com/hexops/media/234e15f265b19743c580a078b2d68660c92675d4/logo.svg height=50px></a></div></div></body></html>