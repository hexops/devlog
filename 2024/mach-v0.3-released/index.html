<!doctype html><html><head><link rel=stylesheet href=https://devlog.hexops.com/assets/font/stylesheet.css><link rel=stylesheet href=https://devlog.hexops.com/main.959becff4f3640c2ba19521949a93832fa147f951930301c1c72e74e25823239.css><script async defer data-domain=hexops.com src=https://hexops.com/opendata.js></script><meta charset=utf-8><title>Mach v0.3 released - Zig game engine & graphics toolkit | Hexops' devlog</title><link rel=canonical href=https://devlog.hexops.com/2024/mach-v0.3-released/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Mach v0.3 released - Zig game engine & graphics toolkit"><meta property="og:description" content="Mach aims to be a Zig game engine & graphics toolkit for building high-performance, truly cross-platform, robust & modular games, visualizations, and desktop/mobile GUI apps."><meta property="og:type" content="article"><meta property="og:url" content="https://devlog.hexops.com/2024/mach-v0.3-released/"><meta property="og:image" content="https://devlog.hexops.com/img/2024/mach_v0.3_release.png"><meta property="article:section" content="2024"><meta property="article:published_time" content="2024-02-02T00:00:00+00:00"><meta property="article:modified_time" content="2024-02-02T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://devlog.hexops.com/img/2024/mach_v0.3_release.png"><meta name=twitter:title content="Mach v0.3 released - Zig game engine & graphics toolkit"><meta name=twitter:description content="Mach aims to be a Zig game engine & graphics toolkit for building high-performance, truly cross-platform, robust & modular games, visualizations, and desktop/mobile GUI apps."></head><body><div class=navbar><div class=content><a href=/ class=logo><img src=https://raw.githubusercontent.com/hexops/media/234e15f265b19743c580a078b2d68660c92675d4/logo.svg>' devlog</a><div><a href=https://hexops.com/about class=item>About</a>
<a href=/archives class=item>Archives</a>
<a href=https://github.com/hexops class=item>GitHub</a></div></div></div><div id=content><main aria-role=main class=main-single><div class=single><header class=header><h1>Mach v0.3 released - Zig game engine & graphics toolkit</h1><div class=metadata><time>February 2, 2024</time>
• <a class=category href=/categories/mach>mach</a>
• <a class=category href=/categories/zig>zig</a>
• <a class=category href=/categories/gamedev>gamedev</a></div></header><p>Mach is a Zig game engine & graphics toolkit for building high-performance & modular games, visualizations, and desktop/mobile apps. <a href=https://machengine.org/>Learn more</a></p><p>We are working towards Mach 1, and have just released v0.3 which includes <a href="https://github.com/hexops/mach/milestone/5?closed=1">6 months of work</a> - here are the highlights!</p><h2 id=coming-soon-intro-to-2d-gamedev-workshop>Coming soon: intro to 2D gamedev workshop</h2><p>The first-ever <strong>intro to 2D gamedev workshop using Mach</strong> will be hosted at the <a href=https://sycl.it/>Software You Can Love</a> conference in Milan, Italy, May 14-17. The workshop will use Mach&rsquo;s currently in-development higher level 2D graphics APIs.</p><p><a class=imglink href=https://sycl.it/><img src=/img/2024/sycl-workshop.png></a></p><p>If you&rsquo;re interested in Zig or Mach, then <a href=https://sycl.it/agenda/workshops/intro-to-2d-gamedev/>check out the SYCL conference</a>! It&rsquo;s an amazing experience, a great opportunity to meet a ton of Zig community members, core team members, as well as enjoy some of the best food that Italy has to offer!</p><h2 id=community-highlight-pixi-and-scoopems>Community highlight: Pixi and Scoop&rsquo;ems</h2><p><a href=https://github.com/foxnne>@foxxne</a> is an early adopter of <a href=https://machengine.org/core/>Mach core</a>, largely pushing it to its limits. They make use of Mach&rsquo;s new experimental sysgpu graphics API (which we intend to be a successor/descendant of WebGPU), as well as other libraries like flecs and dear-imgui. They&rsquo;re developing <a href=https://github.com/foxnne/pixi>Pixi</a> - a pixel art editor:</p><p><a class=imglink href=/img/2024/pixi1.png><img src=/img/2024/pixi1.png></a>
<a class=imglink href=/img/2024/pixi2.png><img src=/img/2024/pixi2.png></a></p><p>And have used it to make games like <a href=https://github.com/foxnne/scoop-ems>Scoop&rsquo;ems</a>:</p><video loop controls height=4000px>
<source src=https://media.machengine.org/showcase/scoopems.mp4 type=video/mp4></video><p><a href=https://github.com/sponsors/foxnne>@foxxne</a> is making awesome tools and games in Zig, pushing things to their limits, I encourage watching <a href="https://www.youtube.com/watch?v=7K9Vzcr7vJg">how humble Colton is when speaking about their work</a>. We are very excited to make Mach support foxxne&rsquo;s projects better in the future, and enable others to build things like this too.</p><p>Please consider <a href=https://github.com/sponsors/foxnne>sponsoring their work on GitHub</a> - you could be their second-ever sponsor!</p><h2 id=mach-core>Mach core</h2><p><a href=https://machengine.org/core/>Mach core</a> aims to provide just a window, input, and truly cross-platform graphics API.</p><p>We think of it as an alternative/competitor to the classic options of SDL+OpenGL, GLFW+Vulkan, etc. Today, it&rsquo;s not quite there yet - it uses GLFW behind the scenes for desktop support, and WebGPU as its graphics API, but we&rsquo;re actively working on making it a genuine competitor written in Zig.</p><p>In this release, it saw general bug fixes - as well as some <a href=https://github.com/hexops/libmach>libmach</a> development - which aims to provide a C API to both Mach core and engine APIs.</p><h2 id=sysgpu>sysgpu</h2><p>In Mach v0.2, we announced an experiment - that we were working on a WebGPU implementation written in Zig, as an alternative to using Dawn (Google Chrome&rsquo;s WebGPU implementation.) In the past 6 months, this experiment saw an immense amount of development and exceeded our expectations!</p><a class=imglink href=https://machengine.org/pkg/mach-sysgpu><picture><source media="(prefers-color-scheme: dark)" srcset=https://machengine.org/assets/mach/sysgpu-dark.svg><img alt=mach-sysgpu src=https://machengine.org/assets/mach/sysgpu-light.svg style=height:7rem;margin-top:1rem></picture></a><p><a href=https://machengine.org/pkg/mach-sysgpu/>sysgpu</a> today is a nearly fully-functional WebGPU native implementation (minus browser-level safety checks), thanks to <a href=https://github.com/hexops/mach-sysgpu/graphs/contributors>two amazing contributors</a>. It has functional D3D12, Vulkan, Metal, and OpenGL backends. It has it&rsquo;s own WGSL shader compiler, and nearly all mach-core examples are runnable using it. We&rsquo;ve even seen real applications (the Pixi pixel editor from foxxne, for example) begin to adopt it.</p><p>As we continued development of it over the past six months, we identified key design tradeoffs where we could differ from WebGPU&rsquo;s API choices and gain a faster, more modern, featureful graphics API. As a result, we&rsquo;ve come to view sysgpu as a leaner and meaner <em>successor and descendant of</em> WebGPU for native graphics, rather than just another implementation of it. As a result, it builds on the back of WebGPU&rsquo;s design choices, but ultimately has its own distinct API and will not be ABI-compatible.</p><p>We have plans to alleviate some <em>major</em> pain points of WebGPU, specifically around pipeline creation / descriptor boilerplate, supporting push constants when available via a better API design (not as an extension), a more integrated/seamless approach to binding resources to shaders with type-correctness, and more.</p><p>We are also evaluating using Zig itself as the shading language, instead of WGSL, and are looking to enable fully offline shader compilation as an optional feature.</p><p>sysgpu is still under heavy development, particularly all of the &lsquo;successor/descendant&rsquo; API design choices noted above have not been implemented yet. It is disabled in the v0.3 release by default, and after this release we plan to invest more aggressively in it - so expect more details and specifics to come soon.</p><h2 id=sysaudio>sysaudio</h2><p>As a bit of background, <a href=https://machengine.org/pkg/mach-sysaudio/>mach-sysaudio</a> started out as Zig bindings to Andrew Kelley&rsquo;s fantastic C library <a href=https://github.com/andrewrk/libsoundio>libsoundio</a>, but ultimately it grew to stand on its own two feet - becoming a brand new library written in Zig from first-principles and the ground-up to achieve similar goals: providing just low-level audio input/output, nothing else. It saw a good deal of polish in this iteration:</p><ul><li><a href=https://github.com/hexops/mach-sysaudio/pull/33>SIMD sample conversion support</a> - and sample conversion is now explicitly optional (so the default is to work with the driver&rsquo;s active audio format.)</li><li>Major API design improvements</li><li>Fixed issues with microphone/input devices, specifically multi-channel devices on macOS with CoreAudio.</li><li>Fixed <a href="https://github.com/hexops/mach/issues?q=is%3Aissue+sysaudio+is%3Aclosed+milestone%3A%22Mach+0.3%22">various issues</a> with the WASAPI/Windows backend.</li></ul><h3 id=audio-synthesizer-hack-project>Audio synthesizer hack-project</h3><p>As a quick hack project over the holidays, I leveraged Mach&rsquo;s audio libraries, reading midi input from a piano keyboard, synthesizing audio using Zig code / Mach, and playing it back through digital piano speakers. Here&rsquo;s a few vertical videos of me being silly & having fun with it (skip to 2:24 to hear how I think a Ziguana might sound!):</p><iframe width=720 height=480 src="https://www.youtube.com/embed/b8WDjaZC1C8?si=SgojGMwdD_lfncgn" title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><h2 id=nominated-zig-versions>Nominated Zig versions</h2><p>Mach has always needed a sweet-spot between stable Zig and nightly Zig, a better balance of latest-and-greatest features and bug fixes, but less of a moving target than nightly Zig. To address this, we formalized how we <a href=/2024/announcing-nominated-zig/>nominate Zig versions</a> for use, enabling others to synchronize their Zig version with the one Mach supports more easily.</p><h2 id=mach-engine-as-a-standard-library-of-modules>Mach engine as a standard library of modules</h2><p>We began <a href=https://machengine.org/engine/stdlib/>documenting</a> how we view Mach <em>engine</em> as a standard library of modules for game development, and how we&rsquo;ll enable you to use just the parts you wish. This is a small-but-important step in showcasing how the engine&rsquo;s higher level APIs will be more modular than the monolithic big engines of today.</p><h2 id=entity-component-system>Entity component system</h2><p>The Mach entity component system provides a key role in Mach&rsquo;s modularity, in this iteration it saw numerous polish / bug fix improvements - the ability to actually query entities, a more clear/concise API, etc. It is still under heavy development, however.</p><h2 id=machmath>mach.math</h2><p><a href=https://github.com/hexops/mach/tree/main/src/math>mach.math</a> was introduced to the Mach standard library: a custom math library tailored towards our graphics API conventions, matrix representations, coordinate systems, etc.</p><p>Today it includes many of the basics: vectors, matrices, quaternions - though it is still missing some basic tablestakes. It also has ray-triangle intersection, and we intend to expand it to cover more general collision utilities later.</p><p>A new set of <a href=https://machengine.org/engine/math/>math docs</a> were added to the website with some cute diagrams/visualizations.</p><h2 id=machgfxsprite>mach.gfx.Sprite</h2><p><a href=https://github.com/hexops/mach/blob/main/src/gfx/Sprite.zig>mach.gfx.Sprite</a> was introduced, which is the start of a 2D sprite-rendering module. It is largely usable, though we anticipate its API to change a fair amount and are looking to add animated sprite support among other key features.</p><p>It has been useful in letting us test basic rendering of hundreds of thousands of sprites, each as separate entities with their own transformation matrices calculated CPU-side, and get more of an end-to-end feel for how things are looking with our ECS:</p><iframe width=720 height=480 src="https://www.youtube.com/embed/ciuSYf7dcuE?si=SgojGMwdD_lfncgn" title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><h2 id=machgfxtext>mach.gfx.Text</h2><p>Development of a basic text rendering module is underway, but not ready for use yet.</p><h2 id=status-of-simple-2d-game-support>Status of &lsquo;simple 2D game&rsquo; support</h2><p>In short, we&rsquo;re still working on it. More to come soon.</p><h2 id=general-project-maintenance>General project maintenance</h2><ul><li>Two new examples <a href=https://github.com/hexops/mach-core/tree/main/examples/rgb-quad>rgb-quad</a> and <a href=https://github.com/hexops/mach-core/tree/main/examples/textured-quad>textured-quad</a> showing off super basic 2D rendering were added.</li><li>Began to formulate our <a href=https://github.com/hexops/mach/issues/989>hardware support plans</a>, such as when we will target certain SIMD instruction sets.</li><li>All of our <code>build.zig</code> scripts went through a great deal of changes and improvements, as Zig&rsquo;s build system and package manager matured greatly.</li><li>Various <a href="https://github.com/hexops/mach/milestone/5?closed=1">other issues</a> were addressed.</li></ul><h2 id=a-personal-note>A personal note</h2><div style=display:flex><a href=https://github.com/emidoots><img style=width:420px src=https://machengine.org/img/emidoots-profile.png></a><div><p>I work a normal tech job, and most days after I sign off from work I go online to build Mach, often like working two jobs. I've been doing this for a few years now, and dreaming of being able to build Mach for a decade before that.</p><p>FOSS <a href=https://devlog.hexops.com/2021/increasing-my-contribution-to-zig-to-200-a-month#i-grew-up-playing-linux-games-like-mania-drive>is in my roots</a> and I believe we should own our tools, they should empower <em>us</em>-not be part of <a href=https://kristoff.it/blog/the-open-source-game/>the 'open source' game</a> which is all too prevelant today (even among 'open source' engines.) Mach <em>needs</em> to be for people like you and me-it needs to genuinely be <a href=https://softwareyoucan.love>software you can love</a>.</p><p>My dream is one day to live a simple, modest, future earning a living building Mach for you and creating high-quality games for everyone. Please consider <a href=https://github.com/sponsors/emidoots>sponsoring my work</a> if you believe in this vision.</p></div></div><h2 id=thanks>Thanks</h2><p>Immense thank you to all those who helped make this release possible, to those who contribute regularly or in the past, and those who sponsor development. It means the world!</p><div style=display:flex;flex-direction:row;align-items:center><img align=left style=max-height:12.5rem src=https://user-images.githubusercontent.com/3173176/187348488-0b52e87d-3a48-421c-9402-be78e32b5a20.png></img><ul><li>Join the <a href=https://discord.gg/XNG3NZgCqp>Mach Discord server</a></li><li>Check out <a href=https://machengine.org>machengine.org</a></li><li>Consider <a href=https://github.com/sponsors/emidoots>sponsoring development</a> so we can do more of it!</li></ul></div></div></main><script>function addAnchor(a){a.insertAdjacentHTML('afterbegin',`<a href="#${a.id}" class="hanchor" ariaLabel="Anchor">#</a> `)}document.addEventListener('DOMContentLoaded',function(){var a=document.querySelectorAll('h1[id], h2[id], h3[id], h4[id]');a&&a.forEach(addAnchor)})</script></div><div class=footer><div class=row-1><a href=https://hexops.com/privacy>Privacy matters</a>
<a href=https://github.com/sponsors/emidoots>Sponsor on GitHub</a>
<a href=https://machengine.org>machengine.org</a></div><div class=row-2><a href=/feed.xml><img alt="RSS feed" src="https://shields.io/badge/RSS-follow-green?logo=RSS"></a></div><div class=row-3><a href=https://hexops.com><img class="logo color-auto" alt="Hexops logo" src=https://raw.githubusercontent.com/hexops/media/234e15f265b19743c580a078b2d68660c92675d4/logo.svg height=50px></a></div></div></body></html>